webpackJsonp([1],Array(32).concat([function(t,e,s){"use strict";e.a={data:function(){return{postType:"new",clipped:!1,drawer:!1,fixed:!0,items:[{icon:"bubble_chart",title:"Inspire"}],miniVariant:!1,right:!0,rightDrawer:!1}},name:"App",mounted:function(){},watch:{},methods:{loadNext:function(){var t="/reddit/sub/"+this.$store.state.route.params.subReddit+"?after="+this.$store.state.reddit.currentAfter;this.$store.state.lastScroll=0,this.$router.push(t)},loadPrevious:function(){this.$router.go(-1)}}}},function(t,e,s){"use strict";e.a={name:"",components:{},props:[],data:function(){return{}},created:function(){},methods:{}}},function(t,e,s){"use strict";var n=s(19),a=s.n(n);e.a={name:"reddit-post",components:{},props:[],data:function(){return{post:{},comments:[],links:[],loading:!1,rootComments:[],depth:0,currentAuthor:null,url:"",isImage:!1,imageUrl:""}},mounted:function(){var t=this,e=this.$route.params.postId;this.loading=!0,a.a.get("https://old.reddit.com/r/"+this.$route.params.subReddit+"/"+e+"/.json").then(function(s){t.post=s.data[0].data.children[0].data,t.currentAuthor=t.post.author,""!==t.post.url&&console.log("URL ",t.parseUrl(t.post.url));var n=t.decodeHTMLEntities(t.post.selftext_html);t.post.content=n.replace(/href/g,' target="_blank" href'),t.comments=t.getCommentsFromArray(s.data[1].data.children),t.$store.state.reddit.seenPosts.includes(e)||t.$store.commit("ADD_SEEN_POST",e),t.loading=!1})},methods:{getCommentsFromArray:function(t){var e=this,s="";return t.forEach(function(t){if(void 0!==t)if(0===t.data.depth?s+='<div class="pa-1 grey lighten-3 mb-3">':s+='<div class="pa-1 white">',console.log("In Loop",t),s+='\n                  <div class="">\n          ',e.currentAuthor===t.data.author?s+='<b><span class="teal pa-1">'+e.currentAuthor+"</span></b>":s+="<b>"+t.data.author+"</b>",s+="\n                  "+t.data.ups+"</div>\n                  "+e.decodeHTMLEntities(t.data.body_html)+"\n                  </div>",void 0!==t.data.replies&&""!==t.data.replies){e.depth++;var n=10*e.depth;s+='<div style="padding-left: '+n+'px"> '+e.getCommentsFromArray(t.data.replies.data.children)+"</div>"}else e.depth=0}),s},decodeHTMLEntities:function(t){if(t){var e={amp:"&",apos:"'",lt:"<",gt:">",quot:'"',nbsp:"Â "},s=/&([a-z]+);/gi;return t.replace(s,function(t,s){return s=s.toLowerCase(),e.hasOwnProperty(s)?e[s]:t})}return""},parseUrl:function(t){var e=new RegExp("^https?://(.*)/(.*)$","i"),s=t.match(e),n=t.split(".").pop();switch(console.log("Ext",n),this.imageUrl="",n){case"png":case"jpg":case"jpeg":this.isImage=!0,this.imageUrl=t}this.isImage||(this.url=s[1],this.url.match(/imgur/)?(this.getImageFromImgur(t),this.isImage=!0):this.url="")},getImageFromImgur:function(t){var e=this;a.a.get("http://localhost:9000/imgur/image?url="+t).then(function(t){e.imageUrl=t.data.url})}}}},,,,,,function(t,e,s){"use strict";var n=s(93),a=s.n(n),o=s(102),r=(s.n(o),s(103));e.a={name:"",components:{PostRow:r.a},props:[],mounted:function(){this.$route.query.after?this.loadPosts(this.$route.query.after):this.loadPosts(null)},data:function(){return{loading:!0}},watch:{"$store.state.route.params.subReddit":function(){this.$store.state.lastScroll=0,this.$store.state.reddit.currentAfter=null,this.$store.state.reddit.pages=[],this.loadPosts(null)},$route:function(t,e){console.log(t),t.query.after?this.loadPosts(t.query.after):this.loadPosts(null)},"$store.state.reddit.currentType":function(){this.$store.state.lastScroll=0,this.$store.state.reddit.currentAfter=null,this.$store.state.reddit.pages=[],this.loadPosts(null)}},methods:{loadPosts:function(t){var e=this;this.loading=!0,this.$store.state.reddit.currentPosts=[],this.$store.dispatch("loadPosts",t).then(function(t){e.loading=!1,console.log("Scrolling to",e.$store.state.lastScroll),setTimeout(function(){e.$vuetify.goTo(e.$store.state.lastScroll,{duration:300,offset:0,easing:"easeInOutCubic",easings:a()(o)}).then(function(){})})})}}}},,,,,,,function(t,e,s){"use strict";e.a={name:"post-row",props:{post:{}},mounted:function(){console.log("Here"),console.log(this.$moment.unix(this.post.data.created_utc).calendar()),console.log(this.$store.getters.haveSeenPost(this.post.data.id))},computed:{postUrl:function(){}},methods:{loadPost:function(){this.$store.state.lastScroll=window.scrollY,this.$router.push("/reddit/post/"+this.$store.state.route.params.subReddit+"/"+this.post.data.id)}}}},function(t,e,s){"use strict";var n=s(109),a=s.n(n),o=s(116);e.a={name:"hacker-news",mixins:[o.a],data:function(){return{posts:[],currentPosition:0,postsPerLoad:30}},created:function(){this.loadPosts()},methods:{loadPosts:function(){var t=this;this.axios.get("https://hacker-news.firebaseio.com/v0/topstories.json").then(function(e){e.data.slice(t.currentPosition,t.currentPosition+t.postsPerLoad).forEach(function(e){t.axios.get("https://hacker-news.firebaseio.com/v0/item/"+e+".json").then(function(s){t.posts.push(a()({},s.data,{path:"/hackernews/post/"+e}))})}),t.currentPosition+=t.postsPerLoad})}}}},function(t,e,s){"use strict";var n=s(120);e.a={name:"",components:{HackerComment:n.a},props:[],data:function(){return{post:{},comments:[]}},created:function(){this.loadPost()},methods:{loadPost:function(){var t=this;console.log("Load post"),this.axios.get("https://hacker-news.firebaseio.com/v0/item/"+this.$route.params.postId+".json").then(function(e){t.post=e.data,console.log("Lopaded",t.post),console.log("Reeponse",t.post.kids);var s=t.post.kids.length,n=[];t.post.kids.forEach(function(e){t.axios.get("https://hacker-news.firebaseio.com/v0/item/"+e+".json").then(function(e){n.push(e.data),n.length===s&&(t.comments=t.sortByKey(n,"time"),console.log(t.comments.length))})})})},sortByKey:function(t,e){return t.sort(function(t,s){var n=t[e],a=s[e];return n<a?-1:n>a?1:0})}}}},function(t,e,s){"use strict";e.a={name:"hacker-comment",components:{},props:["comment"],data:function(){return{comments:[]}},created:function(){this.loadKids()},methods:{loadKids:function(){var t=this;this.axios.get("https://hacker-news.firebaseio.com/v0/item/"+this.comment.id+".json").then(function(e){t.comments.push(e.data)})}}}},,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(11),a=s(62),o=s(64),r=s(124),i=s(161),c=s.n(i),l=s(162),u=(s.n(l),s(19)),d=s.n(u),p=s(163),v=s.n(p),m=s(165);s.n(m);n.default.use(s(164)),n.default.use(v.a,d.a),Object(m.sync)(r.a,o.a),n.default.use(c.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:o.a,store:r.a,components:{App:a.a},template:"<App/>"})},,,function(t,e,s){"use strict";var n=s(32),a=s(63),o=s(4),r=o(n.a,a.a,!1,null,null,null);e.a=r.exports},function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-navigation-drawer",{attrs:{persistent:"","mini-variant":t.miniVariant,clipped:t.clipped,"enable-resize-watcher":"",fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("div",{staticClass:"pa-2"}),t._v(" "),s("v-list",t._l(t.$store.state.reddit.subs,function(e,n){return s("v-list-tile",{key:n,attrs:{value:"true",to:e.path},on:{click:function(e){t.drawer=!1}}},[s("v-list-tile-action"),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{textContent:t._s(e.name)}}),t._v("\n                    o\n                ")],1)],1)}))],1),t._v(" "),s("v-toolbar",{attrs:{app:"","clipped-left":t.clipped}},[s("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.$router.go(-1)}}},[s("v-icon",[t._v("chevron_left")])],1),t._v(" "),s("v-toolbar-title",[t._v(" "+t._s(t.$store.state.title))]),t._v(" "),s("v-spacer"),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs8:""}}),t._v(" "),s("v-flex",{staticClass:"text-xs-right pt-3",attrs:{xs4:""}},[s("v-select",{attrs:{items:t.$store.state.reddit.types},model:{value:t.$store.state.reddit.currentType,callback:function(e){t.$set(t.$store.state.reddit,"currentType",e)},expression:"$store.state.reddit.currentType"}})],1)],1)],1),t._v(" "),s("v-content",{attrs:{id:"mainContent"}},[s("router-view")],1),t._v(" "),s("v-footer",{attrs:{fixed:t.fixed,app:"",height:48}},[s("v-layout",{staticClass:"pa-2"},[s("v-flex",{attrs:{xs6:""}},[s("v-btn",{staticClass:"grey",attrs:{small:"",disabled:1===t.$store.state.reddit.pages.length},on:{click:t.loadPrevious}},[t._v("Previous\n                ")])],1),t._v(" "),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[s("v-btn",{staticClass:"grey",attrs:{small:""},on:{click:t.loadNext}},[t._v("Next\n                ")])],1)],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";var n=s(11),a=s(65),o=s(66),r=s(70),i=s(91),c=s(107),l=s(118);n.default.use(a.a),e.a=new a.a({history:!0,scrollBehavior:function(t,e,s){return s||{x:0,y:0}},routes:[{path:"/",name:"Start",component:o.a},{path:"/reddit/sub/:subReddit/:section?",name:"Reddit Sub",component:i.a},{path:"/reddit/post/:subReddit/:postId",name:"Reddit Post",component:r.a},{path:"/hackernews",name:"Hacker News",component:c.a},{path:"/hackernews/post/:postId",name:"Hacker News",component:l.a}]})},,function(t,e,s){"use strict";function n(t){s(67)}var a=s(33),o=s(69),r=s(4),i=n,c=r(a.a,o.a,!1,i,"data-v-72d97b20",null);e.a=c.exports},function(t,e){},,function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-layout",[s("v-flex",{attrs:{xs4:"",md6:""}},[t._v("\n            Ando so it begin\n        ")]),t._v(" "),s("v-flex",{attrs:{xs4:"",md6:""}},[t._v("\n            Again....\n        ")])],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";function n(t){s(71)}var a=s(34),o=s(90),r=s(4),i=n,c=r(a.a,o.a,!1,i,"data-v-2cd3959e",null);e.a=c.exports},function(t,e){},,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-layout",{staticClass:"a-2",attrs:{fluid:""}},[s("v-flex",{attrs:{xs12:""}},[t.loading?s("div",{staticClass:"text-xs-center pt-4"},[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):t._e()])],1),t._v(" "),t.loading?t._e():s("v-container",[s("div",{staticClass:"postTitle mb-2"},[s("strong",[t._v(t._s(t.post.title))]),t._v("\n            - "),s("span",{staticClass:"teal pa-1"},[t._v(t._s(t.post.author))])]),t._v(" "),t.isImage?s("img",{attrs:{src:t.imageUrl,width:"500"}}):t._e(),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"pa-2 mb-2"},[t._v("\n            "+t._s(t.post.url)+"\n            "),s("a",{attrs:{href:t.post.url,target:"_blank"}},[s("v-icon",{attrs:{small:""}},[t._v("link")])],1)]),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.comments)}})])],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";function n(t){s(92)}var a=s(40),o=s(106),r=s(4),i=n,c=r(a.a,o.a,!1,i,"data-v-b51fc5ee",null);e.a=c.exports},function(t,e){},,,,,,,,,,,function(t,e,s){"use strict";function n(t){s(104)}var a=s(47),o=s(105),r=s(4),i=n,c=r(a.a,o.a,!1,i,null,null);e.a=c.exports},function(t,e){},function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-list-tile",{attrs:{avatar:""},on:{click:t.loadPost}},[s("v-list-tile-avatar",[t._v("\n            "+t._s(t.post.data.score)+"\n        ")]),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[s("span",{class:{"post-title-bold":!t.$store.getters.haveSeenPost(t.post.data.id)}},[t._v(t._s(t.post.data.title))]),t._v(" -\n                "),s("small",[t._v(t._s(t.post.data.domain))])]),t._v(" "),s("v-list-tile-sub-title",[t._v(t._s(t.post.data.num_comments)+" Comments "+t._s(t._f("moment")(1e3*new Date(t.post.data.created_utc),"calendar")))])],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-layout",{staticClass:"a-2",attrs:{fluid:""}},[s("v-flex",{attrs:{xs12:""}},[t.loading?s("div",{staticClass:"text-xs-center pt-4"},[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):t._e()])],1),t._v(" "),s("v-layout",{staticClass:"a-2",attrs:{fluid:""}},[t.loading?t._e():s("v-card",{attrs:{flat:""}},[s("v-list",{attrs:{"two-line":""}},t._l(t.$store.state.reddit.currentPosts,function(t,e){return s("post-row",{key:e,attrs:{post:t}})}))],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";function n(t){s(108)}var a=s(48),o=s(117),r=s(4),i=n,c=r(a.a,o.a,!1,i,"data-v-0c6d507b",null);e.a=c.exports},function(t,e){},,,,,,,,function(t,e,s){"use strict";e.a={methods:{extractHostname:function(t){var e=void 0;return e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0],e=e.split(":")[0],e=e.split("?")[0]},getDomainName:function(t){var e=this.extractHostname(t),s=e.split("."),n=s.length;return n>2&&(e=s[n-2]+"."+s[n-1],2==s[n-2].length&&2==s[n-1].length&&(e=s[n-3]+"."+e)),e}}}},function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"pa-2 fluid",attrs:{fluid:""}},[s("v-card",{attrs:{flat:""}},[s("v-list",{attrs:{"two-line":""}},[s("transition-group",{attrs:{name:"fade"}},[t._l(t.posts,function(e,n){return[s("v-list-tile-avatar",[t._v("\n                        "+t._s(e.score)+"\n                    ")]),t._v(" "),s("v-list-tile",{key:n,attrs:{avatar:"",to:e.path}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title)+"\n                            ")]),t._v(" "),s("v-list-tile-sub-title",[t._v(t._s(e.descendants)+" Comments by "+t._s(e.by)+" -\n                                "),s("small",[t._v(t._s(t.getDomainName(e.url)))])])],1)],1)]})],2)],1),t._v(" "),s("v-btn",{on:{click:t.loadPosts}},[t._v("Load More")])],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";function n(t){s(119)}var a=s(49),o=s(123),r=s(4),i=n,c=r(a.a,o.a,!1,i,"data-v-11c636e7",null);e.a=c.exports},function(t,e){},function(t,e,s){"use strict";function n(t){s(121)}var a=s(50),o=s(122),r=s(4),i=n,c=r(a.a,o.a,!1,i,"data-v-2ee3d1a2",null);e.a=c.exports},function(t,e){},function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("\n    "+t._s(t.comment.text)+"\n    "),s("hr"),t._v(" "),t._l(t.comments,function(t){return s("hacker-comment",{attrs:{comment:t}})})],2)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-layout",[s("v-flex",[s("div",{staticClass:"main-title"},[t._v(t._s(t.post.title)+"\n            ")])])],1),t._v(" "),s("v-layout",[s("v-flex",{staticClass:"text--grey"},[s("small",[s("strong",[t._v(t._s(t.post.descendants)+" comments")])])]),t._v(" "),s("v-flex",{staticClass:"text--grey"}),t._v(" "),s("v-flex",{staticClass:"text-xs-right"},[t._v("\n            "+t._s(t.post.by)+"\n        ")])],1),t._v(" "),s("v-layout",[s("v-flex",t._l(t.comments,function(t){return s("hacker-comment",{attrs:{comment:t}})}))],1),t._v(" "),s("v-layout",[s("pre",[t._v("            "+t._s(t.post)+"\n        ")])])],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},function(t,e,s){"use strict";var n=s(11),a=s(125),o=s(126),r=s(127),i=s(156),c=s(157),l=s(158);n.default.use(a.a),e.a=new a.a.Store({plugins:[Object(l.a)()],state:o.a,actions:r.a,mutations:i.a,getters:c.a})},,function(t,e,s){"use strict";e.a={title:"MyHome",lastScroll:0,reddit:{currentSub:null,currentType:"new",types:[{value:"new",text:"New"},{value:"hot",text:"Hot"}],currentPosts:[],currentAfter:null,seenPosts:[],history:[],pages:[],firstId:null,lastId:null,subs:[{name:"CasualUk",path:"/reddit/sub/CasualUk"},{name:"Factorio",path:"/reddit/sub/factorio"},{name:"BritishSuccess",path:"/reddit/sub/BritishSuccess"},{name:"BritishProblems",path:"/reddit/sub/BritishProblems"},{name:"Vue",path:"/reddit/sub/VueJs"},{name:"Javascript",path:"/reddit/sub/Javascript"},{name:"WebDev",path:"/reddit/sub/webdev"}]}}},function(t,e,s){"use strict";var n=s(51),a=s.n(n),o=s(155);e.a={loadPosts:function(t,e){var s=this,n=(t.commit,t.state);return new a.a(function(t,a){var r=n.route.params.subReddit,i=n.reddit.currentType;n.title=r,o.a.getPosts(r,i,e).then(function(e){var n=e.children.length-1;s.commit("SET_REDDIT_POSTS",e.children),s.commit("SET_FIRST_ID",e.children[0].data.name),s.commit("SET_LAST_ID",e.children[n].data.name),s.commit("SET_CURRENT_AFTER",e.children[n].data.name),s.commit("ADD_PAGE",e.children[0].data.name),t()}).catch(function(t){return a(t)})})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";var n=s(51),a=s.n(n),o=s(19),r=o.create({baseURL:"https://old.reddit.com"});e.a={getPosts:function(t,e,s){var n="/r/"+t+"/"+e+"/.json";return s&&(n+="?after="+s),new a.a(function(t,e){r.get(n).then(function(e){console.log("We have some posts from ",e),t(e.data.data)}).catch(function(t){return e(t)})})}}},function(t,e,s){"use strict";e.a={SET_REDDIT_VIEW:function(t,e){t.reddit.currentType=e},SET_REDDIT_POSTS:function(t,e){t.reddit.currentPosts=e},SET_FIRST_ID:function(t,e){console.log("Setting ID",e),t.reddit.firstId=e},SET_LAST_ID:function(t,e){t.reddit.lastId=e},SET_CURRENT_AFTER:function(t,e){t.reddit.currentAfter=e},ADD_PAGE:function(t,e){t.reddit.pages.push(e)},ADD_SEEN_POST:function(t,e){t.reddit.seenPosts.push(e)},SET_TITLE:function(t,e){t.title=e}}},function(t,e,s){"use strict";e.a={haveSeenPost:function(t){return function(e){return console.log("have we seen this post",e,t),t.reddit.seenPosts.includes(e)}}}},,,,,function(t,e){}]),[59]);
//# sourceMappingURL=app.e21573673898888c01d2.js.map